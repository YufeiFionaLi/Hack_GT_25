<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Arduino Live – MQ-3</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    .card { border: 1px solid #ddd; border-radius: 12px; padding: 1rem; width: 360px; }
    .value { font-size: 2rem; }
    h1 { margin-bottom: 1rem; }
    .row { margin-top: 1rem; }
    pre { background: #f6f8fa; padding: .75rem; border-radius: 8px; }
    button { padding: .5rem .9rem; font-size: 1rem; }
  </style>
</head>
<body>
  <h1>Arduino → Node → Web (MQ-3 Alcohol Sensor)</h1>

  <!-- Live preview card (unchanged) -->
  <div class="card">
    <div>Analog reading: <span id="analog" class="value">—</span></div>
    <div>Digital output: <span id="digital" class="value">—</span></div>
    <div>Timestamp (ms): <span id="t">—</span></div>
    <div>Status: <span id="status">waiting…</span></div>
  </div>

  <!-- User Information Form -->
  <div class="card" style="margin-top: 2rem;">
    <h2>User Information</h2>
    <form id="user-form">
      <div style="margin-bottom: 1rem;">
        <label for="name" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Full Name:</label>
        <input type="text" id="name" name="name" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
      </div>
      <div style="margin-bottom: 1rem;">
        <label for="dateOfBirth" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Date of Birth:</label>
        <input type="date" id="dateOfBirth" name="dateOfBirth" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
      </div>
      <div style="margin-bottom: 1rem;">
        <label for="insurance" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Insurance Provider:</label>
        <input type="text" id="insurance" name="insurance" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
      </div>
    </form>
    <div id="user-response" style="margin-top: 1rem; padding: 0.75rem; background: #f6f8fa; border-radius: 8px; display: none;"></div>
  </div>

  <!-- NEW: capture/save controls -->
  <div class="row">
    <button id="submit">Submit (capture & save one)</button>
    <button id="save-latest" style="margin-left:.5rem">Save latest</button>
    <button id="db-latest" style="margin-left:.5rem">Show latest from DB</button>
  </div>

  <!-- NEW: server responses / errors -->
  <div class="row">
    <h3>Server response</h3>
    <pre id="out">—</pre>
  </div>

  <script src="app.js"></script>
</body>
</html>
